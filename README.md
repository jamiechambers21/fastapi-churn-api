# FastAPI Churn Prediction API

### üìù **Project Overview**
This project is an **end-to-end machine learning application** built to predict customer churn (whether a customer will leave a service) using **FastAPI** for creating an API, **scikit-learn** for machine learning, and **AWS Lambda** for deployment. The model is trained using the **Telco Customer Churn** dataset from Kaggle.

### üöÄ **Key Features**
- **Churn Prediction Model**: Classifies customers as likely to churn or not based on various features.
- **FastAPI-based API**: A REST API to interact with the churn prediction model.
- **Model Deployment**: Deployed the trained machine learning model via a FastAPI API for real-time predictions.
- **Data Preprocessing**: Includes steps for handling missing data, encoding categorical features, and balancing the dataset.

### üìä **Technologies Used**
- **Machine Learning**: Python, scikit-learn (Random Forest Classifier, XGBoost)
- **Web Framework**: FastAPI
- **API Documentation**: Swagger UI (auto-generated by FastAPI)
- **Data Preprocessing**: Pandas, NumPy
- **Deployment**: AWS Lambda (for future deployment)
- **Version Control**: Git, GitHub

---

### üõ†Ô∏è **How to Run Locally**

#### 1Ô∏è‚É£ **Clone the Repository**
```bash
git clone https://github.com/yourusername/fastapi-churn-api.git
cd fastapi-churn-api
```

#### 2Ô∏è‚É£ **Set Up a Virtual Environment**
```bash
python3 -m venv churnprediction
source churnprediction/bin/activate
```

#### 3Ô∏è‚É£ **Install Dependencies**
```bash
pip install -r requirements.txt
```

#### 4Ô∏è‚É£ **Run the FastAPI Server**
```bash
uvicorn main:app --reload
```

#### Your API will be live at http://127.0.0.1:8000. Visit the Swagger UI for testing the predictions:
```bash
http://127.0.0.1:8000/docs
```

### üíª **API Endpoints**

- **POST /predict**: Takes customer features as input and returns the predicted churn (0 or 1).

  **Input Format**:
  - `gender`: Male, Female
  - `Partner`: Yes, No
  - `Dependents`: Yes, No
  - `TotalCharges`: Float  
  _(Add all necessary customer data)_

  **Example**:
  ```json
  {
    "gender": "Male",
    "Partner": "Yes",
    "Dependents": "No",
    "TotalCharges": 1050.45
  }

### üíª **Model Accuracy**

The machine learning model achieves an accuracy of **~82%** on the test set. The model uses **LogisticRegression**, which was the best-performing model after testing with **LogisticRegression**, **DecisionTreeClassifier**, **RandomForestClassifier**, **SVC**, and **XGBClassifier**. All information can be found in the `customer_churn.ipynb` file.

| **Model**                      | **Accuracy**  |
|---------------------------------|---------------|
| LogisticRegression_Tuned        | 0.820440      |
| LogisticRegression              | 0.819730      |
| RandomForestClassifier_Tuned    | 0.811923      |
| XGBClassifier_Tuned             | 0.805536      |
| XGBoost                         | 0.798439      |
| RandomForestClassifier          | 0.788502      |
| DecisionTreeClassifier          | 0.712562      |
| SVM                             | 0.712562      |
